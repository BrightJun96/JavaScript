# 회원 인증 시스템

회원 인증 시스템은 클라이언트측에서 요청을 할 때마다 해당 회원을 인증해 줄 수 있는 시스템으로 토큰 기반 인증 시스템과 세션 기반 인증 시스템이 있다.

회원 인증 시스템은 사용자의 로그인 상태 유지의 여부를 서버에서 검열하여 결정하는 시스템이다.

## 세션 기반 회원 인증 시스템

사용자가 로그인을 하면 세션에 정보를 기록한뒤 해당 유저에 대한 로그인 상태를 유지하게 해준다.
유저가 다른 요청을 보내도 세션은 해당 유저에 대한 정보를 세션에 기억하고 있기 때문에 로그인 상태가 유지가 된다.

허나 이는 세션이 유저에 대한 정보를 기억해야하기 때문에 로그인 중인 유저가 많다면 서버에 부담이 갈 수 있다.

또한 서버에 대한 확장성이 어렵다는 단점이 있다.
서버의 부담이 되어 여러 서버 인스턴스를 생성한다면 하나의 세션을 공유해야하는데 이 공정을 구현하기기가 복잡하다고 한다.

여러 서버로 관리하고 있다고 하였을 때 로그인한 유저와 유저의 요청을 관리하는 서버를 매칭시켜줘야하기 때문이다.
어떠한 유저가 로그인을 했을 때 여러 서버 중 하나의 서버가 해당 유저에 대한 요청을 관리해야한다.
이러한 로직을 설정해줘야하는 과정이 복잡하다고 하는 것 같다.

## 토큰 기반 회원 인증 시스템

클라이언트측에서 회원가입을 하거나 로그인을 하면 서버측에서 토큰을 생성해주어 클라이언트측에서 브라우저 쿠키에 저장해준다.
클라이언트에서 쿠키에 담긴 토큰과 함께 서버에 요청을 하게 되면 서버는 브라우저 쿠키에 있는 토큰을 조회하여 서버에서 생성해준것인지 검열한 뒤에 회원 인증을 한다.
즉, 토큰 기반 회원 인증 시스템이란 클라이언트의 쿠키에 담긴 토큰을 서버에서 검열하여 회원 인증을 할 수 있다.

이는 서버에 부담이 없다는 장점이 있다.
서버는 사용자 정보를 기억하지 않기 때문에(stateless) 해당 토큰만 검열하면 되기 때문이다.
토큰에 서명이 들어있기 때문에 서버 인스턴스가 여러 개가 있어도 서명으로 인증되기 때문에 여러 서버에서 확장할 수 있다.

#### 토큰 기반 인증 시스템에서 서버측에서 만들어주는 토큰은 왜 JWT로 하는 것일까?

JWT는 JSON WEB TOKEN의 약자로, 데이터가 JSON으로 이루어져 있는 토큰을 의미한다.
JSON을 이용하면 클라이언트와 서버가 서로 안전하게 정보를 주고 받을 수 있도록 웹 표준으로 정의되어있기 때문에 JWT를 사용한다.

#### JSON은 무엇인가?

json은 자바스크립트 객체 표기법으로 작성된 문자열이다.

클라이언트와 서버가 통신할 때 json 데이터를 기반으로 통신하는 이유는 문자열로도 서버로 보낼 수 있고 클라이언트측에서 파싱하여 객체화해 사용할 수 있기 때문이다.

#### 토큰은 무엇인가?

토큰은 로그인 이후 서버에서 만들어주는 문자열이다.
토큰에는 사용자의 로그인 정보가 들어있고 서버에서 발급되었음을 증명하는 서명이 들어있다.
